{{- if not (.Scratch.Get "pages") -}}
  {{- range (where .Pages "Params.hidden" "ne" "true") -}}
    {{- $.Scratch.Add "pages" (where .Pages "Params.hidden" "ne" "true") -}}
    {{- $.Scratch.Add "pages" . -}}
  {{- end -}}
{{- end -}}
